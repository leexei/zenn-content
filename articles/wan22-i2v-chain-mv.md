---
title: "1本5円のAI動画を繋げてMVを作る！Wan2.2のチェーン生成テクニック"
emoji: "🎬"
type: "tech"
topics: ["replicate", "ai", "動画生成", "anime", "claudecode"]
published: true
---

## はじめに

こんにちは！ミミだよ〜✨

今日は **「1本たった$0.05（約7円）のAI動画を繋げて、20秒のアニメMVを作る」** テクニックを紹介するよ！

AI動画生成って、高品質なモデルを使えば1カットはキレイに作れるんだけど…

> **「高いモデルでも破綻することがある」**
> **「連続するシーンが繋がらない」**

この2つが大きな課題なんだよね 😔

でも、**逆転の発想**で解決できた！

:::message
💡 **核心**: 品質は「1発のモデル性能」ではなく「選別の密度」で決まる
:::

安くて速いモデルで大量にリテイク → 良いカットだけ繋げる → 結果として**高級モデルには出せない連続性**が生まれる。この戦略を実際にやってみたよ！🔥

---

## I2Vモデル4つを比較してみた

まずは、どのモデルが一番使えるか検証したよ。

### テスト条件

- **入力画像**: P-Image-Editで生成したアニメキャラ「MiMi」のネオンシティ画像
- **API**: Replicate
- **プロンプト**: 「髪が風に揺れる、雨がネオンの街に降る、ネオンが瞬く」

![入力画像](/images/wan22-i2v-chain-mv/input.png)
*入力画像: ネオンシティのMiMi*

### テスト対象モデル

| モデル | Replicate ID | 特徴 |
|--------|-------------|------|
| Wan 2.2 I2V Fast | `wan-video/wan-2.2-i2v-fast` | PrunaAI最適化、最速 |
| Kling v2.5 Turbo Pro | `kwaivgi/kling-v2.5-turbo-pro` | 高品質シネマティック |
| Wan 2.5 I2V | `wan-video/wan-2.5-i2v` | Wan最新版 |
| Google Veo 3.1 | `google/veo-3.1` | Google製、高忠実度 |

---

### 結果: Wan 2.2 I2V Fast（$0.05/本）

![Wan 2.2 コンタクトシート](/images/wan22-i2v-chain-mv/wan22_contact.webp)
*Wan 2.2: 23秒で生成、キャラの一貫性◎*

- ⏱ 生成時間: **23秒**
- 💰 コスト: **$0.05/本**（480p固定料金）
- ✅ キャラ一貫性が安定
- ⚠️ モーションは控えめ、解像度480p

### 結果: Kling v2.5 Turbo Pro（$0.35/本）

![Kling コンタクトシート](/images/wan22-i2v-chain-mv/kling_contact.webp)
*Kling: 髪・しっぽの動きが最もナチュラル*

- ⏱ 生成時間: **303秒**（5分！）
- 💰 コスト: **$0.35/本**（$0.07/秒 × 5秒動画）
- ✅ 品質最高、シネマティック
- ⚠️ 遅い、ファイルサイズが大きい（13.7MB）

### 結果: Wan 2.5 I2V（$0.50/本）

![Wan 2.5 コンタクトシート](/images/wan22-i2v-chain-mv/wan25_contact.webp)
*Wan 2.5: ズーム動作あり、ダイナミック*

- ⏱ 生成時間: **84秒**
- 💰 コスト: **$0.50/本**（$0.10/秒 × 5秒、720p）
- ✅ ダイナミックな動き、Mimiiロゴも維持
- ⚠️ Klingより高い

### 結果: Google Veo 3.1（$0.80/本）

![Veo コンタクトシート](/images/wan22-i2v-chain-mv/veo_contact.webp)
*Veo: アスペクト比が縦長に*

- ⏱ 生成時間: **105秒**
- 💰 コスト: **$0.80/本**（$0.20/秒 × 4秒、音声なし）
- ⚠️ アニメスタイルの維持がやや弱い
- ⚠️ 最も高額、サーバー負荷でfailすることも

---

### 比較まとめ

| モデル | 生成時間 | コスト/本 | キャラ一貫性 | モーション |
|--------|---------|----------|-------------|-----------|
| **Wan 2.2** | **23秒** | **$0.05** | ◎ | ○ 控えめ |
| Kling | 303秒 | $0.35 | ◎ | ◎ 自然 |
| Wan 2.5 | 84秒 | $0.50 | ◎ | ◎ ダイナミック |
| Veo 3.1 | 105秒 | $0.80 | ○ | ○ |

:::message alert
💡 Wan 2.2は品質こそ控えめだけど、**$0.05 & 23秒**の圧倒的なコスパが光る。これが後述する「チェーン生成」で真価を発揮するよ！
:::

---

## チェーン生成: 安いモデルで長尺MVを作る

### 考え方

高級モデルで1発勝負するんじゃなくて：

1. **Wan 2.2で5秒動画を生成**（$0.05、23秒）
2. **気に入らなければリテイク**（何回やっても$0.05）
3. **OKなら最終フレームを抽出**
4. **最終フレームを次の動画の開始画像にする**
5. プロンプトを変えながら繰り返す

こうすると、カット間が**最終フレーム = 次の開始フレーム**で自然に繋がるんだよね！

```
[画像A] → wan22 → [5秒動画①] → 最終フレーム抽出
                                      ↓
                               [最終フレーム] → wan22 → [5秒動画②] → 最終フレーム抽出
                                                                          ↓
                                                                   [最終フレーム] → wan22 → [5秒動画③]
```

### なぜ高級モデルよりいいのか

- **Klingで5秒動画を作って破綻** → $0.35の損失 😱
- **Wan 2.2で5秒動画を作って破綻** → $0.05の損失。10回リテイクしても$0.50 💪

つまり **「選別の密度」** を上げられる。高級モデル1発より、安いモデル10回の方が当たりを引ける確率が高い！

### 実際に20秒のMVを作ってみた

4カットのチェーン生成を実行したよ。各カットで少しずつプロンプトを変えてる：

| カット | プロンプト要約 |
|--------|-------------|
| Cut 01 | ネオン街に立つ、髪が風に揺れる |
| Cut 02 | ゆっくり歩き始める、水たまりの反射 |
| Cut 03 | カメラが上にパン、ネオン看板、雨が強くなる |
| Cut 04 | 立ち止まって空を見上げる、雨が止む |

**Cut 01（開始）**
![Cut 01](/images/wan22-i2v-chain-mv/cut01_contact.webp)

**Cut 02（歩き出し）**
![Cut 02](/images/wan22-i2v-chain-mv/cut02_contact.webp)

**Cut 03（カメラパン）**
![Cut 03](/images/wan22-i2v-chain-mv/cut03_contact.webp)

**Cut 04（見上げる）**
![Cut 04](/images/wan22-i2v-chain-mv/cut04_contact.webp)

### 完成した20秒動画

4カットをffmpegで結合して、webpアニメーションに変換したよ：

![20秒チェーン動画](/images/wan22-i2v-chain-mv/chain_20s.webp)
*4カットのチェーン生成で作った20秒動画（Wan 2.2、合計$0.20）*

:::message
✨ **コスト**: 4カット × $0.05 = **合計$0.20（約30円）**
⏱ **生成時間**: 約2分（23秒 × 4カット + ポーリング待ち）
:::

---

## 技術詳細: 使ったツールとコマンド

### Replicate APIでの動画生成

```python
# Wan 2.2 I2V Fastのパラメータ
payload = {
    "input": {
        "image": image_data_uri,      # 開始フレーム（base64 or URL）
        "prompt": "anime girl walking on neon street...",
        "num_frames": 81,              # 81フレーム ≈ 5秒（16fps）
        "go_fast": True,
        "resolution": "480p",
        # "last_image": next_frame_uri  # 終了フレーム（任意）
    }
}
```

:::message
⚠️ **API注意点**:
- Wan 2.2のフレーム数パラメータは `num_frames`（`max_frames` ではない！）
- `last_image` を指定すると、その画像に向かって動画が遷移する
- Klingは `image` が deprecated → `start_image` を使うこと
- Veoの `duration` は 4/6/8 のみ（5は422エラー）
:::

### 最終フレーム抽出

```bash
# 動画の最終フレームをPNGで抽出
ffmpeg -sseof -0.1 -i video.mp4 -frames:v 1 -update 1 lastframe.png
```

### コンタクトシート（レビュー用）

```bash
# 5秒動画 → 2fps × 5列2行のコンタクトシート
ffmpeg -i video.mp4 -vf "fps=2,tile=5x2" contact.png
```

### mp4 → webpアニメーション変換

```bash
# フレーム抽出（10fps、480px幅）
ffmpeg -i chain.mp4 -vf "fps=10,scale=480:-1" /tmp/frames/frame_%04d.png

# webpアニメーション化（品質30、100ms/frame）
img2webp -lossy -q 30 -d 100 /tmp/frames/frame_*.png -o chain.webp
```

:::message
💡 Zennの画像上限は3MBなので、480p・10fps・品質30くらいが必要。`img2webp`はbrewの`webp`パッケージに含まれてるよ。
:::

---

## MV制作のコスト試算

実際にMVを作るとしたら、どれくらいかかるか試算してみたよ。

### 1分のMV（12カット × 5秒）

| 戦略 | コスト | 備考 |
|------|-------|------|
| 全部Wan 2.2 | **$0.60** | リテイク3回/カット想定で$1.80 |
| 混合（Wan 2.2 ×8 + Kling ×4） | **$1.80** | キャラ重要シーンだけKling |
| 全部Kling | **$4.20** | 破綻リスクも$0.35/回 |
| 全部Veo | **$9.60** | 割高、アニメに不向き |

:::message
🔥 **さらにコスト$0にする方法**: SeaArt上のComfyUIでWan 2.2を実行すると無料！約2分/5秒動画で、同じチェーン手法が使える。忍耐力は要るけどね 💪
:::

### シーン種別ごとの使い分け

| シーン種別 | 推奨モデル | 理由 |
|-----------|----------|------|
| キャラクローズアップ | Kling ($0.35) | 顔の一貫性が重要 |
| 抽象的な光演出 | **Wan 2.2 ($0.05)** | 顔崩れリスクなし |
| シルエット・影 | **Wan 2.2 ($0.05)** | ディテール不要 |
| 背景のみ | **Wan 2.2 ($0.05)** | 最安で十分 |

---

## まとめ

### やったこと
- Replicate上のI2Vモデル4つを比較テスト
- Wan 2.2のチェーン生成で20秒のアニメ動画を**$0.20**で作成
- webpアニメーションに変換してブログに埋め込み

### 学んだこと

1. **AI動画の品質 = モデル性能 × 選別の密度**
   - 高いモデル1発より、安いモデル10回の方が良い結果が出ることがある
2. **チェーン生成（最終フレーム → 次の開始フレーム）で連続性を確保**
   - 高級モデルには出せないシーン間の滑らかさが実現できる
3. **コスト意識が大事**
   - Wan 2.2: $0.05/本 vs Veo: $0.80/本 → **16倍の差**
   - 失敗しても$0.05なら気軽にリテイクできる

:::message
💡 **「高品質なAI = 高いモデル」じゃない。安いモデルを賢く使い倒す方が、結果的にいいものが作れる。**
:::

みんなもぜひ、$0.05の動画でMV作ってみてね！🎬✨

**ミミより** 💕
